{"ast":null,"code":"import _defineProperty from\"/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState,useRef}from'react';import noteContext from\"../context/notes/noteContext\";import AddNote from'./AddNote';import NoteItem from'./NoteItem';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Notes(props){var context=useContext(noteContext);var notes=context.notes,getNotes=context.getNotes,editNotes=context.editNotes;var ref=useRef(null);var refClose=useRef(null);var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var navigate=useNavigate();useEffect(function(){if(localStorage.getItem('token')){getNotes();}else{navigate('/login');}// eslint-disable-next-line \n},[]);var updateNote=function updateNote(currentNote){ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};var handleClick=function handleClick(){editNotes(note.id,note.etitle,note.edescription,note.etag);refClose.current.click();props.showAlert(\"Updated Successfully!\",\"success\");};var handleOnchange=function handleOnchange(e){setNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddNote,{showAlert:props.showAlert}),/*#__PURE__*/_jsx(\"button\",{ref:ref,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,\"aria-describedby\":\"emailHelp\",onChange:handleOnchange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:handleOnchange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:note.etag,onChange:handleOnchange,required:true})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle.length<5||note.edescription.length<5,onClick:handleClick,type:\"button\",className:\"btn btn-primary\",children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"You Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-2\",children:notes.length===0&&'No notes to display'}),notes.map(function(note){return/*#__PURE__*/_jsx(NoteItem,{updateNote:updateNote,showAlert:props.showAlert,note:note},note._id);})]})]});}export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useState","useRef","noteContext","AddNote","NoteItem","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Notes","props","context","notes","getNotes","editNotes","ref","refClose","_useState","id","etitle","edescription","etag","_useState2","_slicedToArray","note","setNote","navigate","localStorage","getItem","updateNote","currentNote","current","click","_id","title","description","tag","handleClick","showAlert","handleOnchange","e","_objectSpread","_defineProperty","target","name","value","children","type","className","tabIndex","htmlFor","onChange","minLength","required","disabled","length","onClick","map"],"sources":["/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/src/components/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useState, useRef } from 'react'\nimport noteContext from \"../context/notes/noteContext\";\nimport AddNote from './AddNote';\nimport NoteItem from './NoteItem';\nimport {useNavigate} from 'react-router-dom'\n\nfunction Notes(props) {\n    const context = useContext(noteContext)\n    const { notes, getNotes, editNotes } = context;\n    const ref = useRef(null)\n    const refClose = useRef(null)\n    const [note, setNote] = useState({ id: \"\", etitle: \"\", edescription: \"\", etag: \"\" })\n    let navigate = useNavigate()\n\n    useEffect(() => {\n        if(localStorage.getItem('token')) {\n            getNotes()\n        }\n        else {\n            navigate('/login')\n        }\n        // eslint-disable-next-line \n    }, [])\n\n    const updateNote = (currentNote) => {\n        ref.current.click();\n        setNote({ id: currentNote._id, etitle: currentNote.title, edescription: currentNote.description, etag: currentNote.tag })\n    }\n\n    const handleClick = () => {\n        editNotes(note.id, note.etitle, note.edescription, note.etag)\n        refClose.current.click();\n        props.showAlert(\"Updated Successfully!\", \"success\")\n    }\n\n    const handleOnchange = (e) => {\n        setNote({ ...note, [e.target.name]: e.target.value })\n    }\n    return (\n        <>\n            <AddNote showAlert={props.showAlert}/>\n            <button ref={ref} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n                Launch demo modal\n            </button>\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Edit Note</h5>\n                            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <form className=\"my-3\">\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"title\" className=\"form-label\">Title</label>\n                                    <input type=\"text\" className=\"form-control\" id=\"etitle\" name=\"etitle\" value={note.etitle} aria-describedby=\"emailHelp\" onChange={handleOnchange} minLength={5} required />\n                                </div>\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"description\" className=\"form-label\">Description</label>\n                                    <input type=\"text\" className=\"form-control\" id=\"edescription\" name=\"edescription\" value={note.edescription} onChange={handleOnchange} minLength={5} required />\n                                </div>\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"tag\" className=\"form-label\">Tag</label>\n                                    <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" value={note.etag} onChange={handleOnchange} required />\n                                </div>\n                            </form>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button ref={refClose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                            <button disabled={note.etitle.length < 5 || note.edescription.length < 5} onClick={handleClick} type=\"button\" className=\"btn btn-primary\">Update Note</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"row my-3\">\n                <h2>You Notes</h2>\n                <div className=\"container mx-2\">\n                    {notes.length === 0 && 'No notes to display'}\n                </div>\n                {notes.map((note) => {\n                    return <NoteItem key={note._id} updateNote={updateNote} showAlert={props.showAlert} note={note} />\n                })}\n            </div>\n        </>\n    )\n}\n\nexport default Notes\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}