{"ast":null,"code":"import _defineProperty from\"/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),creadentials=_useState2[0],setCreadentials=_useState2[1];var navigate=useNavigate();var host=\"http://localhost:3001\";var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var url,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();url=\"\".concat(host,\"/loginUser\");_context.next=4;return fetch(url,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:creadentials.email,password:creadentials.password})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;if(json.status){localStorage.setItem('token',json.data.token);props.showAlert(\"LoggedIn Successfully!\",\"success\");navigate('/');}else{props.showAlert(\"Invalid Details\",\"danger\");}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleOnchange=function handleOnchange(e){setCreadentials(_objectSpread(_objectSpread({},creadentials),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"my-3\",children:\"Login to Continue to iNotebook\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",value:creadentials.email,onChange:handleOnchange,id:\"email\",name:\"email\",\"aria-describedby\":\"emailHelp\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",value:creadentials.password,onChange:handleOnchange,id:\"password\",name:\"password\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","props","_useState","email","password","_useState2","_slicedToArray","creadentials","setCreadentials","navigate","host","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","url","response","json","wrap","_callee$","_context","prev","next","preventDefault","concat","fetch","method","headers","body","JSON","stringify","sent","status","localStorage","setItem","data","token","showAlert","stop","_x","apply","arguments","handleOnchange","_objectSpread","_defineProperty","target","name","value","className","children","onSubmit","htmlFor","type","onChange","id","required"],"sources":["/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport {useNavigate} from 'react-router-dom'\n\nfunction Login(props) {\n  const [creadentials, setCreadentials] = useState({ email: \"\", password: \"\" });\n  let navigate = useNavigate()\n  const host = `http://localhost:3001`;\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const url = `${host}/loginUser`;\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ email:creadentials.email, password:creadentials.password}),\n    });\n\n    const json = await response.json();\n    if(json.status){\n        localStorage.setItem('token', json.data.token)\n        props.showAlert(\"LoggedIn Successfully!\", \"success\")\n        navigate('/')\n    }else{\n        props.showAlert(\"Invalid Details\", \"danger\")\n    }\n  };\n\n  const handleOnchange = (e) => {\n    setCreadentials({ ...creadentials, [e.target.name]: e.target.value });\n  };\n  return (\n    <div className=\"mt-3\">\n      <h2 className=\"my-3\">Login to Continue to iNotebook</h2>\n      <form onSubmit={handleSubmit}>\n        <div className=\"mb-3\">\n          <label htmlFor=\"email\" className=\"form-label\">\n            Email address\n          </label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            value={creadentials.email}\n            onChange={handleOnchange}\n            id=\"email\"\n            name=\"email\"\n            aria-describedby=\"emailHelp\"\n            required\n          />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"password\" className=\"form-label\">\n            Password\n          </label>\n          <input\n            type=\"password\"\n            className=\"form-control\"\n            value={creadentials.password}\n            onChange={handleOnchange}\n            id=\"password\"\n            name=\"password\"\n            required\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}