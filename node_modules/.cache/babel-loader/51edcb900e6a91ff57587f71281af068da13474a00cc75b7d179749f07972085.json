{"ast":null,"code":"import _regeneratorRuntime from\"/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import noteContext from\"./noteContext\";import{jsx as _jsx}from\"react/jsx-runtime\";var NoteState=function NoteState(props){var host=\"http://localhost:3001\";var initialNotes=[];var _useState=useState(initialNotes),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];// const s1 = {\n//     \"name\": \"Dipen\",\n//     \"class\": \"5b\"\n// }\n// const [state, setState] = useState(s1);\n// const update = () => {\n//     setTimeout(() => {\n//         setState({\n//            \"name\":\"pradip\",\n//            \"class\":\"B.tech-4year\"\n//         })\n//     }, 1000);\n// }\n// --------------------- fetch all notes ---------------------\nvar getNotes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"\".concat(host,\"/getNotes\");_context.next=3;return fetch(url,{method:\"GET\",headers:{'Content-Type':'application/json','auth-token':localStorage.getItem('token')}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;setNotes(json);case 8:case\"end\":return _context.stop();}},_callee);}));return function getNotes(){return _ref.apply(this,arguments);};}();// -----------------Add a Note-----------------\nvar addNotes=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(title,description,tag){var url,response,note;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:url=\"\".concat(host,\"/createNotes\");_context2.next=3;return fetch(url,{method:\"POST\",headers:{'Content-Type':'application/json','auth-token':localStorage.getItem('token')},body:JSON.stringify({title:title,description:description,tag:tag})});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:note=_context2.sent;setNotes(notes.concat(note));case 8:case\"end\":return _context2.stop();}},_callee2);}));return function addNotes(_x,_x2,_x3){return _ref2.apply(this,arguments);};}();// -----------------Edit a Note-----------------------------\nvar editNotes=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id,title,description,tag){var url,response,newNotes,index,element;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:url=\"\".concat(host,\"/updateNotes/\").concat(id);_context3.next=3;return fetch(url,{method:\"PUT\",headers:{'Content-Type':'application/json','auth-token':localStorage.getItem('token')},body:JSON.stringify({title:title,description:description,tag:tag})});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:newNotes=JSON.parse(JSON.stringify(notes));// deep copy of notes array\n// Logic to edit client\nindex=0;case 8:if(!(index<newNotes.length)){_context3.next=18;break;}element=newNotes[index];if(!(element._id===id)){_context3.next=15;break;}newNotes[index].title=title;newNotes[index].description=description;newNotes[index].tag=tag;return _context3.abrupt(\"break\",18);case 15:index++;_context3.next=8;break;case 18:setNotes(newNotes);case 19:case\"end\":return _context3.stop();}},_callee3);}));return function editNotes(_x4,_x5,_x6,_x7){return _ref3.apply(this,arguments);};}();// -----------------Delete a Note---------------\nvar deleteNotes=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){var url,response,newNotes;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:url=\"\".concat(host,\"/deleteNotes/\").concat(id);_context4.next=3;return fetch(url,{method:\"DELETE\",headers:{'Content-Type':'application/json','auth-token':localStorage.getItem('token')}});case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:newNotes=notes.filter(function(note){return note._id!==id;});setNotes(newNotes);case 8:case\"end\":return _context4.stop();}},_callee4);}));return function deleteNotes(_x8){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/ (// <noteContext.Provider value={{state:state, update:update}}>\n//     {props.children}\n// </noteContext.Provider>\n_jsx(noteContext.Provider,{value:{notes:notes,addNotes:addNotes,getNotes:getNotes,editNotes:editNotes,deleteNotes:deleteNotes},children:props.children}));};export default NoteState;","map":{"version":3,"names":["React","useState","noteContext","jsx","_jsx","NoteState","props","host","initialNotes","_useState","_useState2","_slicedToArray","notes","setNotes","getNotes","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","json","wrap","_callee$","_context","prev","next","concat","fetch","method","headers","localStorage","getItem","sent","stop","apply","arguments","addNotes","_ref2","_callee2","title","description","tag","note","_callee2$","_context2","body","JSON","stringify","_x","_x2","_x3","editNotes","_ref3","_callee3","id","newNotes","index","element","_callee3$","_context3","parse","length","_id","abrupt","_x4","_x5","_x6","_x7","deleteNotes","_ref4","_callee4","_callee4$","_context4","filter","_x8","Provider","value","children"],"sources":["/home/dipen/PenDrive/WebSite/ReactJS/inotebook/iNotebook-full-Stack/src/context/notes/NoteState.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport noteContext from \"./noteContext\";\n\nconst NoteState = (props) => {\n    const host = `http://localhost:3001`\n    const initialNotes = []\n    const [notes, setNotes] = useState(initialNotes)\n\n    // const s1 = {\n    //     \"name\": \"Dipen\",\n    //     \"class\": \"5b\"\n    // }\n    // const [state, setState] = useState(s1);\n\n    // const update = () => {\n    //     setTimeout(() => {\n    //         setState({\n    //            \"name\":\"pradip\",\n    //            \"class\":\"B.tech-4year\"\n    //         })\n    //     }, 1000);\n    // }\n\n\n    // --------------------- fetch all notes ---------------------\n\n    const getNotes = async () => {\n        const url = `${host}/getNotes`\n        const response = await fetch(url, {\n            method: \"GET\",\n            headers: {\n                'Content-Type': 'application/json',\n                'auth-token': localStorage.getItem('token')\n            }\n        });\n        const json = await response.json()\n        setNotes(json)\n    }\n\n    // -----------------Add a Note-----------------\n\n    const addNotes = async (title, description, tag) => {\n        const url = `${host}/createNotes`\n        const response = await fetch(url, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'auth-token': localStorage.getItem('token')\n            },\n            body: JSON.stringify({ title, description, tag })\n        })\n\n        const note = await response.json()\n        setNotes(notes.concat(note))\n    }\n\n\n    // -----------------Edit a Note-----------------------------\n\n    const editNotes = async (id, title, description, tag) => {\n        const url = `${host}/updateNotes/${id}`\n        const response = await fetch(url, {\n            method: \"PUT\",\n            headers: {\n                'Content-Type': 'application/json',\n                'auth-token': localStorage.getItem('token')\n            },\n\n            body: JSON.stringify({ title, description, tag })\n        })\n\n        await response.json()\n\n        let newNotes = JSON.parse(JSON.stringify(notes))    // deep copy of notes array\n\n        // Logic to edit client\n\n        for (let index = 0; index < newNotes.length; index++) {\n            const element = newNotes[index];\n            if (element._id === id) {\n                newNotes[index].title = title\n                newNotes[index].description = description\n                newNotes[index].tag = tag\n                break;\n            }\n        }\n        setNotes(newNotes);\n    }\n\n    // -----------------Delete a Note---------------\n\n    const deleteNotes = async (id) => {\n        const url = `${host}/deleteNotes/${id}`\n        const response = await fetch(url, {\n            method: \"DELETE\",\n            headers: {\n                'Content-Type': 'application/json',\n                'auth-token': localStorage.getItem('token')\n            }\n        })\n\n        await response.json()\n        const newNotes = notes.filter((note) => { return note._id !== id })\n        setNotes(newNotes)\n    }\n\n\n    return (\n        // <noteContext.Provider value={{state:state, update:update}}>\n        //     {props.children}\n        // </noteContext.Provider>\n        <noteContext.Provider value={{ notes, addNotes, getNotes, editNotes, deleteNotes }}>\n            {props.children}\n        </noteContext.Provider>\n    )\n}\n\n\nexport default NoteState;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}